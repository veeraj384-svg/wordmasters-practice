<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dropdown Story</title>
<link rel="stylesheet" href="/assets/styles.css">
</head>
<body>
<script src="/assets/ui.js"></script>

<div class="wrap">
  <div class="bar">
    <div>
      <h1>Dropdown Story</h1>
      <p class="sub">Fill every blank with the best word. Then check your answers.</p>
    </div>
    <div class="actions">
      <span id="score" class="pill">Score: 0 / 25</span>
      <button class="btn" onclick="checkAnswers()">Check</button>
      <button class="btn" onclick="resetAll()">Reset</button>
    </div>
  </div>

  <div class="card" style="margin-top:14px;">
    <div class="kicker">The Test of Leadership</div>

    <p>
      Ruling the kingdom required great <select data-answer="stamina"></select>,
      but the ruler often tried to <select data-answer="evade"></select> responsibility.
      His plans sounded <select data-answer="sketchy"></select>, and many feared he had become a true
      <select data-answer="tyrant"></select>. Rather than lead, he chose to
      <select data-answer="shirk"></select> his duties while continuing to
      <select data-answer="domineer"></select> over others.
    </p>

    <p>
      Life in the palace had grown <select data-answer="mundane"></select>, and the ruler’s
      <select data-answer="disposition"></select> grew increasingly harsh. Officials would
      <select data-answer="bicker"></select> over small issues, ignoring basic
      <select data-answer="etiquette"></select> and committing a public
      <select data-answer="faux pas"></select>.
    </p>

    <p>
      A calm and <select data-answer="amicable"></select> traveler arrived to test the ruler’s
      <select data-answer="mettle"></select>. He urged the king to
      <select data-answer="enact"></select> fair laws and
      <select data-answer="establish"></select> justice through
      <select data-answer="rigorous"></select> debate rather than force.
    </p>

    <p>
      The argument soon <select data-answer="peaked"></select>. Some advisors would
      <select data-answer="snicker"></select>, while others gave a quiet
      <select data-answer="sneer"></select>. The discussions became a constant
      <select data-answer="wrangle"></select>, as the guards, once
      <select data-answer="lax"></select>, now stood alert.
    </p>

    <p>
      By the end, the ruler looked <select data-answer="haggard"></select>, standing at the
      <select data-answer="threshold"></select> of losing power. Parts of the palace had become
      <select data-answer="derelict"></select>, and the king finally realized leadership is not something to
      <select data-answer="refuse"></select>.
    </p>

    <hr>
    <p class="small">Hard mode (optional later): “each word can only be used once.”</p>
  </div>
</div>

<script>
const KEY="wm_progress_v1";
const words=[
  "stamina","evade","sketchy","tyrant","shirk","amicable","mettle","domineer","mundane",
  "disposition","enact","peaked","refuse","establish","lax","threshold","sneer","rigorous",
  "etiquette","bicker","derelict","faux pas","snicker","haggard","wrangle"
];

function populate(){
  document.querySelectorAll("select").forEach(sel=>{
    sel.innerHTML="";
    const blank=document.createElement("option");
    blank.value=""; blank.text="— choose —";
    sel.appendChild(blank);
    for(const w of words){
      const o=document.createElement("option");
      o.value=w; o.text=w;
      sel.appendChild(o);
    }
  });
}

function checkAnswers(){
  let correct=0;
  document.querySelectorAll("select").forEach(sel=>{
    sel.classList.remove("ok","bad");
    const ok = sel.value === sel.dataset.answer;
    if(!sel.value) sel.classList.add("bad");
    else if(ok){ sel.classList.add("ok"); correct++; }
    else sel.classList.add("bad");
  });
  document.getElementById("score").textContent = `Score: ${correct} / 25`;

  // progress
  const p = JSON.parse(localStorage.getItem(KEY) || "{}");
  p.story = (correct === 25);
  localStorage.setItem(KEY, JSON.stringify(p));
}

function resetAll(){
  document.querySelectorAll("select").forEach(s=>{ s.value=""; s.classList.remove("ok","bad"); });
  document.getElementById("score").textContent="Score: 0 / 25";
}

populate();
</script>
</body>
</html>
